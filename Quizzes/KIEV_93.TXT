                             1 тур
     Поиск анаграмм
     Задана последовательность   слов,  записанных  маленькими
русскими буквами.
     Говорят, что несколько слов образуют анаграмму,  если лю-
бое из них можно  получить  из  любого  другого  перестановкой
букв, например:
     сорт-трос-торс-рост, лама-мала.
     В частности, одинаковые слова образуют анаграмму, и слово
образует анаграмму само с собой.
     Напишите программу, которая:
     а) определяет в заданной  последовательности  все  полные
множества слов-анаграмм.  Множество называется полным,  если к
нему нельзя добавить слова,  образующего анаграммы с остальны-
ми (оценка - до 60 очков);
     б) вычисляет в заданной  последовательности  максимальный
размер (количество  слов) подмножества слов-анаграмм (оценка -
до 10 очков);
     в) определяет в заданной последовательности  все  подмно-
жества слов-анаграмм, имеющие максимальный размер (оценка - до
30 очков).

     Олимпиада юных программистов г.Киева и Киевской обл.-1993
                            1 тур.
                  ИНСТРУКЦИИ ДЛЯ ЧЛЕНОВ ЖЮРИ

     ИДЕЯ АВТОРСКОГО РЕШЕНИЯ
     Наилучший метод  решения  использует такое преобразование
слов, чтобы в результате преобразования любых слов, образующих
анаграмму, получались одинаковые  последовательности символов.
Таким преобразованием может быть перестановка букв слова в ал-
фавитном порядке  или в порядке возрастания их кодов.  Эта пе-
рестановка реализуется на основе известных алгоритмов упорядо-
чения (сортировки).
     Преобразованные слова могут быть сгруппированы в анаграм-
мы также путем их упорядочения по алфавиту,  по кодам символов
лексикографически или относительно  любого  другого  отношения
порядка, заданного в конкретных типах компьютеров и языках для
строковых величин.  Все  преобразованные  слова,  составлявшие
анаграммы, после сортировки окажутся рядом.  После этого реше-
ние каждого из вопросов задачи  определяется  за  один  проход
упорядоченной последовательности преобразованных слов.
     Итак, алгоритм:
     1. Скопировать исходную последовательность А в последова-
тельность В.
     2. Символы каждой строки из В упорядочить по алфавиту.
     3. Одновременно упорядочить А и В по алфавиту В.
     4. Просмотреть  В,  выделяя последовательно расположенные
равные элементы-строки и выдавая соответствующие  им  элементы
А, образующие анаграммы.
     5. Просмотреть В, определяя максимальный размер множества
последовательно расположенных равных элементов-строк.
     6. Просмотреть  В,  выделяя   множества   последовательно
расположенных равных элементов-строк, определяя те из них, ко-
торые имеют максимальную длину,  и выдавая соответствующие  им
элементы А, образующие максимальные анаграммы.

     РЕКОМЕНДАЦИИ ПО ПРОВЕРКЕ
     1. Выполнить тест 1.
     2. Если  решение  не  получено за разумное время (20 мин)
или из-за нехватки памяти, выполнить сокращенный тест 1а.
     3. Вопросы задачи, для которых на тесте 1 или 1а получены
верные решения, оцениваются таким образом:
     а) 24 балла, если решение получено полным перебором;
        40 баллов, если решение получено с помощью сортировки,
приведенной в школьном учебнике или метода пузырька.
        48 баллов,  если решение получено  с  помощью  быстрой
сортировки или сортировки слиянием.
     Время решения оценивается при выполнении теста, затем ме-
тод определяется по анализу исходного текста.
     б) 8 баллов
     в) 18 баллов
     4. Если тест не прошел, выяснить, можно ли добиться рабо-
тоспособности с  незначительными  исправлениями синтаксических
ошибок и опечаток, но не логических ошибок (переобозначить пе-
ременную, заменить + на - и т.д.).
     5. Для выяснения  работоспособности  программы  в  особых
(тривиальных) случаях  выполнить  тесты  2 (никакие 2 слова не
образуют анаграмму),  3 (все слова  образуют  анаграмму)  и  4
(исходная последовательность пуста).
     6. Вопросы задачи,  для которых на  тестах  2-4  получены
верные решения, оцениваются таким образом:
     а) +2 балла за КАЖДЫЙ тест;
     б) +1 балл, если прошли ВСЕ тесты;
     в) +2 балла за КАЖДЫЙ тест;
     7. Если  какой-либо  из  тестов 2-4 не прошел,  выяснить,
можно ли добиться работоспособности с незначительными  исправ-
лениями  синтаксических  ошибок  и опечаток,  но не логических
ошибок (переобозначить переменную, заменить + на - и т.д.).
     5. Для проверки обработки неверных исходных данных выпол-
нить тесты 5 (встречаются  латинские  буквы),  6  (встречаются
заглавные русские буквы) и 7 (встречаются прочие символы).
     6. Вопросы задачи,  для которых на  тестах  5-7  получены
верные диагностические сообщения, оцениваются таким образом:
     а) +2 балла за КАЖДЫЙ тест;
     б) +1 балл, если прошли ВСЕ тесты;
     в) +2 балла за КАЖДЫЙ тест;
     10. Если какой-либо  из  тестов 5-7 не прошел,  выяснить,
можно ли добиться работоспособности с незначительными  исправ-
лениями  синтаксических  ошибок  и опечаток,  но не логических
ошибок (переобозначить переменную, заменить + на - и т.д.).
     11. Просуммировать оценки за вопросы а)-в).  и вычесть  5
баллов за КАЖДОЕ выполненное исправление (см.пп. 4, 7 и 10).

                            - 3 -
     ТЕСТ 1
     Внимание! Слова "тест", "товар" и "пост" в тесте встреча-
ются по 2 раза для проверки обработки одинаковых слов.
     Исходная последовательность:  {ропот,  село, товар, нива,
тест, сорт, топор, пост, рот, трос, прах, оселок, отпор, лама,
отвар,  тест, рост, мала, порт, порот, колесо, храп, иск, икс,
кси, кис, стоп, товар, тор, торс, осел, вина, орт, пост,тавро}

     ОТВЕТЫ:
Все множества анаграмм -
{ропот, отпор, топор, порот}
{товар, отвар, тавро, товар}
{сорт, рост, трос, торс}
{икс, иск, кси, кис}
{орт, рот, тор}
{колесо, оселок}
{нива, вина}
{лама, мала}
{село, осел}
{пост, стоп}
{прах, храп}
{тест, тест}
{порт}

Максимальный размер множества анаграмм - 4;

Максимальные множества анаграмм -
{ропот, отпор, топор, порот}
{товар, отвар, тавро, товар}
{сорт, рост, трос, торс}
{икс, иск, кси, кис}

     ТЕСТ 1а
     Внимание! Слово  "товар"  в  тесте встречается 2 раза для
проверки обработки одинаковых слов.
     Исходная последовательность:  {ропот, село, товар, топор,
рот,  оселок,  отпор,  лама, отвар, мала, порт, порот, колесо,
товар, тор, осел, орт, тавро}

                            - 4 -
     ОТВЕТЫ:
Все множества анаграмм -
{ропот, отпор, топор, порот}
{товар, отвар, тавро, товар}
{орт, рот, тор}
{колесо, оселок}
{лама, мала}
{село, осел}
{порт}

Максимальный размер множества анаграмм - 4;

Максимальные множества анаграмм -
{ропот, отпор, топор, порот}
{товар, отвар, тавро, товар}

     ТЕСТ 2
     Исходная последовательность: {й, ц, у, к, е, н, г, ш, щ, з}

     ОТВЕТЫ:
Все множества анаграмм -
{й}, {ц}, {у}, {к}, {е}, {н}, {г}, {ш}, {щ}, {з}

Максимальный размер множества анаграмм - 10;

Максимальные множества анаграмм -
{й}, {ц}, {у}, {к}, {е}, {н}, {г}, {ш}, {щ}, {з}

     ТЕСТ 3
     Исходная последовательность: {ропот, отпор, топор, порот}

     ОТВЕТЫ:
Все множества анаграмм - {ропот, отпор, топор, порот}

Максимальный размер множества анаграмм - 4;

Максимальное множество анаграмм - {ропот, отпор, топор, порот}

                            - 5 -
     ТЕСТ 4
     Исходная последовательность - пустая

     ОТВЕТЫ:
Все множества анаграмм - {};
Максимальный размер множества анаграмм - 0;
Максимальные множества анаграмм - {}.

     ТЕСТ 5
     Исходная последовательность: {qwerty, у, к, е, н, г, ш, щ, з}
     ТЕСТ 6
     Исходная последовательность: {й, ц, Васисуалий, к, е, н}
     ТЕСТ 7
     Исходная последовательность: {й, ц, у, а+б=ц, е, н, г}

     ОТВЕТЫ тестов 5-7: НЕВЕРНАЯ ПОСЛЕДОВАТЕЛЬНОСТЬ !
